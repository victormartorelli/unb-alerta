{% extends "base.html"%}
{% load crispy_forms_tags %}
{% block content %}   

<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="/static/js/jquery.mask.min.js"></script>
<script type="text/javascript">
  
$(document).ready(function() {
  $("#data_nasc").mask("00/00/0000", {placeholder: "__/__/____"});
});

$(document).ready(function() {
  $("#data_nasc").datepicker({dateFormat:'dd/mm/yy'});
});

$(document).ready(function() {
  $("#cpf").mask("000.000.000-00", {placeholder: "___.___.___-__"});
  $('form.uniForm').uniform();

});

$(document).ready(function() {
  $("#cpf").replace(/[^\d]/g, '');
});



</script>

  <div id = "fundo">
    <div class="container">
      <div class="row vertical-offset-100">
        <div class="col-md-8 col-md-offset-2">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title" style="color:#4E6c24; font-family:'Calibri', serif; font-weight: none; font-style: oblique; font-size: 200% ;margin-left: 40%">Cadastro</h3>
            </div>

            {% for message in messages %}
            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade in" style="text-align: center" role="alert">
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
              </button>
              {{ message|safe }}
            </div>
           {% endfor %}
          <div class="panel-body">
            <form action="" method="POST">
              {% csrf_token %}
              <fieldset>
                <div class="form-group">
                  {{ form.login|as_crispy_field }}
                </div>
                
                <div class="form-group">
                 {{ form.senha|as_crispy_field }}
                </div>

                <div class="form-group">
                  {{ form.confirma_senha|as_crispy_field }}
                </div>

                <div class="form-group">
                  {{ form.email|as_crispy_field }}
                </div>

                <div class="form-group">
                  {{ form.confirma_email|as_crispy_field }}
                </div>

                <div class="form-group">
                  {{ form.matricula|as_crispy_field }}
                </div>

                <div class="form-group">
                 {{ form.nome|as_crispy_field }}
                </div>

                <div class="form-group">
                  <label for="sexo">Genero:</label>
                  </br>
                  <input type="radio" name="sexo" id="sexo" value="1"> <label for="sexo">Masculino</label>
                  </br>
                  <input type="radio" name="sexo" id="sexo" value="0"> <label for="sexo">Feminino</label>
                </div>
                
                <div class="form-group">
                  <label for="data_nasc" class="requiredField">Data de Nascimento 
                  <span class="asteriskField">*</span></label>
                  </br>
                  <input id="data_nasc" name="data_nasc" required="required" 
                  style="width: 100%;height:35px" />
                </div>

                <div class="form-group">
                  <label for="cpf">CPF</label>
                  </br>
                  <input id="cpf" name="cpf" style="width: 100%;height:35px" /> </br>
                </div>
                
                <div class="form-group">
                  <label for="rg">RG</label>
                  </br>
                  <input id="rg" name="rg" style="width: 100%;height:35px"/>
                </div>

                {{ form.grupo_usuario }}
                {{ form.status }}

                
                <input class="btn btn-lg btn-success " type="submit" value="Cadastrar"
                style= "margin-left:33%; margin-top:3%;width:30%" onclick="myFunction()">
                <script>
                  function myFunction() {
                    {% for message in messages %}
                    alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}alert("Favor confirmar cadastro por email");{% endif %}
                    {{ message|safe }}
                    
                  }
                  {% endfor %}
                </script>

              </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

